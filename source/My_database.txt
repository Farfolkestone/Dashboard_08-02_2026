-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.booking_apercu (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Votre hôtel le plus bas numeric,
  Tarif le plus bas numeric,
  médiane du compset numeric,
  Classement des tarifs du compset text,
  Demande du marché numeric,
  Booking.com Classement text,
  Jours fériés text,
  Événements text,
  CONSTRAINT booking_apercu_pkey PRIMARY KEY (id),
  CONSTRAINT booking_apercu_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_export (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  Etat text,
  Référence text,
  Hôtel text,
  Titre text,
  Prénom text,
  Nom text,
  E-Mail text,
  Type de chambre text,
  Tarif text,
  Détail du panier text,
  Tarifs multiples text,
  Demande de réservation text,
  Code promo text,
  Visibilité du code promo text,
  Monnaie text,
  Mode de paiement text,
  Plateforme text,
  Assurance annulation text,
  Etat du paiement text,
  Produit text,
  Type d’origine text,
  Origine text,
  Partenaire de distribution text,
  Référence partenaire text,
  Evaluation client text,
  Langue text,
  Pays text,
  Code postal client text,
  Téléphone text,
  Moteur de réservation text,
  Referrer text,
  Origin text,
  Commentaire client (BE seulement) text,
  Compte société text,
  Utilisateur compte société text,
  Société text,
  Opt-in hôtel accepté text,
  Opt-in partenaires accepté text,
  Motif de l'annulation text,
  Facturation de l'annulation text,
  Montant restant text,
  Date d'arrivée date,
  Date de départ date,
  Date d'achat date,
  Dernière modification date,
  Date d'annulation date,
  Heure d'achat time without time zone,
  Heure de dernière modification time without time zone,
  Heure d'annulation time without time zone,
  Hôtel (ID) bigint,
  Nuits integer,
  Chambres integer,
  Adultes integer,
  Enfants integer,
  Bébés integer,
  Garantie integer,
  Partenaire de distribution (ID) integer,
  Montant total numeric,
  Montant du panier numeric,
  CONSTRAINT booking_export_pkey PRIMARY KEY (id),
  CONSTRAINT booking_export_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_infos_tarifs (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché text,
  Folkestone Opéra text,
  Hôtel Madeleine Haussmann text,
  Hôtel De l'Arcade text,
  Hôtel Cordelia Opéra-Madeleine text,
  Queen Mary Opera text,
  Hôtel du Triangle d'Or text,
  Best Western Plus Hotel Sydney Opera text,
  Hotel Opéra Opal text,
  Hôtel Royal Opéra text,
  Hotel George Sand Opéra Paris text,
  Hotel Chavanel text,
  CONSTRAINT booking_infos_tarifs_pkey PRIMARY KEY (id),
  CONSTRAINT booking_infos_tarifs_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_infos_vs_3j (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché text,
  vs.3j__Demande du marché text,
  Folkestone Opéra text,
  vs.3j__Folkestone Opéra text,
  Hôtel Madeleine Haussmann text,
  vs.3j__Hôtel Madeleine Haussmann text,
  Hôtel De l'Arcade text,
  vs.3j__Hôtel De l'Arcade text,
  Hôtel Cordelia Opéra-Madeleine text,
  vs.3j__Hôtel Cordelia Opéra-Madeleine text,
  Queen Mary Opera text,
  vs.3j__Queen Mary Opera text,
  Hôtel du Triangle d'Or text,
  vs.3j__Hôtel du Triangle d'Or text,
  Best Western Plus Hotel Sydney Opera text,
  vs.3j__Best Western Plus Hotel Sydney Opera text,
  Hotel Opéra Opal text,
  vs.3j__Hotel Opéra Opal text,
  Hôtel Royal Opéra text,
  vs.3j__Hôtel Royal Opéra text,
  Hotel George Sand Opéra Paris text,
  vs.3j__Hotel George Sand Opéra Paris text,
  Hotel Chavanel text,
  vs.3j__Hotel Chavanel text,
  CONSTRAINT booking_infos_vs_3j_pkey PRIMARY KEY (id),
  CONSTRAINT booking_infos_vs_3j_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_infos_vs_7j (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché text,
  vs.7j__Demande du marché text,
  Folkestone Opéra text,
  vs.7j__Folkestone Opéra text,
  Hôtel Madeleine Haussmann text,
  vs.7j__Hôtel Madeleine Haussmann text,
  Hôtel De l'Arcade text,
  vs.7j__Hôtel De l'Arcade text,
  Hôtel Cordelia Opéra-Madeleine text,
  vs.7j__Hôtel Cordelia Opéra-Madeleine text,
  Queen Mary Opera text,
  vs.7j__Queen Mary Opera text,
  Hôtel du Triangle d'Or text,
  vs.7j__Hôtel du Triangle d'Or text,
  Best Western Plus Hotel Sydney Opera text,
  vs.7j__Best Western Plus Hotel Sydney Opera text,
  Hotel Opéra Opal text,
  vs.7j__Hotel Opéra Opal text,
  Hôtel Royal Opéra text,
  vs.7j__Hôtel Royal Opéra text,
  Hotel George Sand Opéra Paris text,
  vs.7j__Hotel George Sand Opéra Paris text,
  Hotel Chavanel text,
  vs.7j__Hotel Chavanel text,
  CONSTRAINT booking_infos_vs_7j_pkey PRIMARY KEY (id),
  CONSTRAINT booking_infos_vs_7j_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_infos_vs_hier (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché text,
  vs.hier__Demande du marché text,
  Folkestone Opéra text,
  vs.hier__Folkestone Opéra text,
  Hôtel Madeleine Haussmann text,
  vs.hier__Hôtel Madeleine Haussmann text,
  Hôtel De l'Arcade text,
  vs.hier__Hôtel De l'Arcade text,
  Hôtel Cordelia Opéra-Madeleine text,
  vs.hier__Hôtel Cordelia Opéra-Madeleine text,
  Queen Mary Opera text,
  vs.hier__Queen Mary Opera text,
  Hôtel du Triangle d'Or text,
  vs.hier__Hôtel du Triangle d'Or text,
  Best Western Plus Hotel Sydney Opera text,
  vs.hier__Best Western Plus Hotel Sydney Opera text,
  Hotel Opéra Opal text,
  vs.hier__Hotel Opéra Opal text,
  Hôtel Royal Opéra text,
  vs.hier__Hôtel Royal Opéra text,
  Hotel George Sand Opéra Paris text,
  vs.hier__Hotel George Sand Opéra Paris text,
  Hotel Chavanel text,
  vs.hier__Hotel Chavanel text,
  CONSTRAINT booking_infos_vs_hier_pkey PRIMARY KEY (id),
  CONSTRAINT booking_infos_vs_hier_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_tarifs (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché numeric,
  Folkestone Opéra numeric,
  Hôtel Madeleine Haussmann numeric,
  Hôtel De l'Arcade numeric,
  Hôtel Cordelia Opéra-Madeleine numeric,
  Queen Mary Opera numeric,
  Hôtel du Triangle d'Or numeric,
  Best Western Plus Hotel Sydney Opera numeric,
  Hotel Opéra Opal numeric,
  Hôtel Royal Opéra numeric,
  Hotel George Sand Opéra Paris numeric,
  Hotel Chavanel numeric,
  CONSTRAINT booking_tarifs_pkey PRIMARY KEY (id),
  CONSTRAINT booking_tarifs_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_vs_3j (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché numeric,
  vs.3j__Demande du marché numeric,
  Folkestone Opéra numeric,
  vs.3j__Folkestone Opéra numeric,
  Hôtel Madeleine Haussmann numeric,
  vs.3j__Hôtel Madeleine Haussmann numeric,
  Hôtel De l'Arcade numeric,
  vs.3j__Hôtel De l'Arcade numeric,
  Hôtel Cordelia Opéra-Madeleine numeric,
  vs.3j__Hôtel Cordelia Opéra-Madeleine numeric,
  Queen Mary Opera numeric,
  vs.3j__Queen Mary Opera numeric,
  Hôtel du Triangle d'Or numeric,
  vs.3j__Hôtel du Triangle d'Or numeric,
  Best Western Plus Hotel Sydney Opera numeric,
  vs.3j__Best Western Plus Hotel Sydney Opera numeric,
  Hotel Opéra Opal numeric,
  vs.3j__Hotel Opéra Opal numeric,
  Hôtel Royal Opéra numeric,
  vs.3j__Hôtel Royal Opéra numeric,
  Hotel George Sand Opéra Paris numeric,
  vs.3j__Hotel George Sand Opéra Paris numeric,
  Hotel Chavanel numeric,
  vs.3j__Hotel Chavanel numeric,
  CONSTRAINT booking_vs_3j_pkey PRIMARY KEY (id),
  CONSTRAINT booking_vs_3j_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_vs_7j (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché numeric,
  vs.7j__Demande du marché numeric,
  Folkestone Opéra numeric,
  vs.7j__Folkestone Opéra numeric,
  Hôtel Madeleine Haussmann numeric,
  vs.7j__Hôtel Madeleine Haussmann numeric,
  Hôtel De l'Arcade numeric,
  vs.7j__Hôtel De l'Arcade numeric,
  Hôtel Cordelia Opéra-Madeleine numeric,
  vs.7j__Hôtel Cordelia Opéra-Madeleine numeric,
  Queen Mary Opera numeric,
  vs.7j__Queen Mary Opera numeric,
  Hôtel du Triangle d'Or numeric,
  vs.7j__Hôtel du Triangle d'Or numeric,
  Best Western Plus Hotel Sydney Opera numeric,
  vs.7j__Best Western Plus Hotel Sydney Opera numeric,
  Hotel Opéra Opal numeric,
  vs.7j__Hotel Opéra Opal numeric,
  Hôtel Royal Opéra numeric,
  vs.7j__Hôtel Royal Opéra numeric,
  Hotel George Sand Opéra Paris numeric,
  vs.7j__Hotel George Sand Opéra Paris numeric,
  Hotel Chavanel numeric,
  vs.7j__Hotel Chavanel numeric,
  CONSTRAINT booking_vs_7j_pkey PRIMARY KEY (id),
  CONSTRAINT booking_vs_7j_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.booking_vs_hier (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date_mise_a_jour timestamp with time zone,
  Jour text,
  Date date,
  Demande du marché numeric,
  vs.hier__Demande du marché numeric,
  Folkestone Opéra numeric,
  vs.hier__Folkestone Opéra numeric,
  Hôtel Madeleine Haussmann numeric,
  vs.hier__Hôtel Madeleine Haussmann numeric,
  Hôtel De l'Arcade numeric,
  vs.hier__Hôtel De l'Arcade numeric,
  Hôtel Cordelia Opéra-Madeleine numeric,
  vs.hier__Hôtel Cordelia Opéra-Madeleine numeric,
  Queen Mary Opera numeric,
  vs.hier__Queen Mary Opera numeric,
  Hôtel du Triangle d'Or numeric,
  vs.hier__Hôtel du Triangle d'Or numeric,
  Best Western Plus Hotel Sydney Opera numeric,
  vs.hier__Best Western Plus Hotel Sydney Opera numeric,
  Hotel Opéra Opal numeric,
  vs.hier__Hotel Opéra Opal numeric,
  Hôtel Royal Opéra numeric,
  vs.hier__Hôtel Royal Opéra numeric,
  Hotel George Sand Opéra Paris numeric,
  vs.hier__Hotel George Sand Opéra Paris numeric,
  Hotel Chavanel numeric,
  vs.hier__Hotel Chavanel numeric,
  CONSTRAINT booking_vs_hier_pkey PRIMARY KEY (id),
  CONSTRAINT booking_vs_hier_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.disponibilites (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date date NOT NULL,
  type_de_chambre text,
  disponibilites numeric,
  ferme_a_la_vente text,
  date_mise_a_jour timestamp with time zone,
  CONSTRAINT disponibilites_pkey PRIMARY KEY (id),
  CONSTRAINT disponibilites_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.events_calendar (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  Événement text,
  Début date,
  Fin date,
  Indice impact attendu sur la demande /10 numeric,
  Multiplicateur numeric,
  Pourquoi cet indice text,
  Conseils yield text,
  CONSTRAINT events_calendar_pkey PRIMARY KEY (id),
  CONSTRAINT events_calendar_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.hotels (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text NOT NULL UNIQUE,
  code text NOT NULL UNIQUE,
  name text,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT hotels_pkey PRIMARY KEY (id)
);
CREATE TABLE public.hotels_concurrents (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  competitor_name text,
  source text,
  display_order integer,
  is_active boolean DEFAULT true,
  last_seen_at timestamp with time zone DEFAULT now(),
  CONSTRAINT hotels_concurrents_pkey PRIMARY KEY (id),
  CONSTRAINT hotels_concurrents_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);
CREATE TABLE public.planning_tarifs (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  hotel_id text,
  date date NOT NULL,
  type_de_chambre text,
  plan_tarifaire text,
  tarif numeric,
  date_mise_a_jour timestamp with time zone,
  CONSTRAINT planning_tarifs_pkey PRIMARY KEY (id),
  CONSTRAINT planning_tarifs_hotel_id_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id)
);